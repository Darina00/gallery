(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],[,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),l=n.n(c);n(9),n(10);function o(){return r.a.createElement("header",{className:"header-wrapper"},r.a.createElement("span",null,"TEST APP"))}n(11);function u(){var e=(new Date).getFullYear();return r.a.createElement("footer",{className:"footer-wrapper"},r.a.createElement("hr",null),r.a.createElement("span",null,"\xa9 2018-",e))}var i=n(1);n(12),n(13);function m(e){var t=localStorage.getItem("idImg"),n=r.a.useState(null),a=Object(i.a)(n,2),c=a[0],l=a[1],o=r.a.useState(""),u=Object(i.a)(o,2),m=u[0],s=u[1],f=r.a.useState(""),h=Object(i.a)(f,2),p=h[0],d=h[1],g=r.a.useState(!0),E=Object(i.a)(g,2),v=E[0],w=E[1];r.a.useEffect((function(){fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(t)).then((function(e){return e.json()})).then((function(e){return l(e)}))}),[t]);var b=function(){m.length>0&&p.length>0?w(!1):w(!0)};return r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:"modal"},r.a.createElement("h1",{onClick:e.onClose,className:"close-button"},"X"),c?r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",null,r.a.createElement("img",{src:c.url?c.url:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",alt:"pct"}),r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",value:m,onChange:function(e){s(e.target.value),b()}}),r.a.createElement("input",{type:"text",placeholder:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:p,onChange:function(e){d(e.target.value),b()}}),r.a.createElement("input",{type:"button",value:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",onClick:function(){fetch("https://boiling-refuge-66454.herokuapp.com/images/".concat(t,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,comment:p})}).then((function(e){var t=c;t.comments.push({id:Math.round(399.5+1601*Math.random()),date:new Date/1e3,text:p}),l(t),d(""),s("")}))},disabled:v}))),r.a.createElement("div",null,c.comments.length>0?c.comments.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h6",null,new Date(1e3*e.date).getDay(),".",new Date(1e3*e.date).getMonth(),".",new Date(1e3*e.date).getFullYear()),r.a.createElement("h3",null,e.text))})):"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043d\u0435\u0442")):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}function s(e){var t=r.a.useState([]),n=Object(i.a)(t,2),a=n[0],c=n[1],l=r.a.useState(!1),o=Object(i.a)(l,2),u=o[0],s=o[1],f=function(e){s(!u),u?localStorage.removeItem("idImg"):localStorage.setItem("idImg",e)};return r.a.useEffect((function(){window.fetch("https://boiling-refuge-66454.herokuapp.com/images").then((function(e){return e.json()})).then((function(e){return c(e)}))})),r.a.createElement("main",{className:"main-wrapper"},a.map((function(e){return r.a.createElement("img",{key:e.id,src:e.url,alt:"Click!",onClick:function(){return f(e.id)}})})),u&&r.a.createElement(m,{onClose:f}))}var f=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(o,null),r.a.createElement(s,null),r.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.6cb2d495.chunk.js.map